<h1 mat-dialog-title>Add question</h1>
<div mat-dialog-content>
    <form [formGroup]="questionForm">
    <mat-form-field appearance="fill" class="full-width">
        <mat-label>Question text</mat-label>
        <textarea matInput formControlName="text" required></textarea>
    </mat-form-field>
    <mat-form-field appearance="fill">
        <mat-label>Max points</mat-label>
        <input matInput type="number" formControlName="maxPoints" required>
    </mat-form-field>


  <table class="full-width" cellspacing="0">
    <tr>
        <td><mat-form-field class="full-width" appearance="fill">
            <mat-label>Answer 1</mat-label>
            <textarea matInput formControlName="a1" required></textarea>
        </mat-form-field>
        </td>
        <td>
            <mat-checkbox class="example-margin" formControlName="a1check" (change)="a1check = !a1check"></mat-checkbox>
        </td>
        <td><mat-form-field class="full-width" appearance="fill">
            <mat-label>Answer 2</mat-label>
            <textarea matInput formControlName="a2" required></textarea>
        </mat-form-field></td>
        <td>
            <mat-checkbox class="example-margin" formControlName="a2check" (change)="a2check = !a2check"></mat-checkbox>
        </td>
    </tr>
    <tr>
        <td>
            <button mat-raised-button [style.visibility]="a3visible ? 'hidden' : 'visible'" (click)="addA3()">Add answer</button>
            <mat-form-field [style.visibility]="a3visible ? 'visible' : 'hidden'" class="full-width" appearance="fill">
                <mat-label>Answer 3</mat-label>
                <textarea matInput formControlName="a3"></textarea>
            </mat-form-field>
        </td>
        <td>
            <button mat-icon-button [style.visibility]="a3visible ? 'visible' : 'hidden'" (click)="deleteA3()"><mat-icon>delete</mat-icon></button>
            <mat-checkbox [style.visibility]="a3visible ? 'visible' : 'hidden'" class="example-margin" formControlName="a3check" (change)="a3check = !a3check"></mat-checkbox>
        </td>
        <td>
            <button mat-raised-button [style.visibility]="a3visible && !a4visible ? 'visible' : 'hidden'" (click)="addA4()">Add answer</button>
            <mat-form-field [style.visibility]="a4visible ? 'visible' : 'hidden'" class="full-width" appearance="fill">
                <mat-label>Answer 4</mat-label>
                <textarea matInput formControlName="a4"></textarea>
            </mat-form-field>
        </td>
        <td>
            <button mat-icon-button [style.visibility]="a4visible ? 'visible' : 'hidden'" (click)="deleteA4()"><mat-icon>delete</mat-icon></button>
            <mat-checkbox [style.visibility]="a4visible ? 'visible' : 'hidden'" class="example-margin" formControlName="a4check" (change)="a4check = !a4check"></mat-checkbox>
        </td>
    </tr>
  </table>
    </form>

</div>
<div mat-dialog-actions>
  <button mat-button (click)="onCancel()">Cancel</button>
  <button mat-raised-button color="primary" (click)="onDone()" cdkFocusInitial [disabled]="questionForm.invalid || !(a1check || a2check || a3check || a4check)">Done</button>
</div>